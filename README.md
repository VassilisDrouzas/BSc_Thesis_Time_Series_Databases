# BSc_Thesis_Time_Series_Databases



Execution instructions for TSBS (Time Series Benchmark Suite)

  TSBS is an open-source benchmarking tool used for benchmarking in time series databases. It can be used to measure both data ingestion and query execution. See the detailed manual here.

Instructions:

1.	Installation (recommended in docker format) of the TSDBs systems  you are interested in (and supported by TSBS). Indicatively, suppose we choose InfluxDB, TimescaleDB, QuestDB.

The versions of the databases used in Docker:

a)	QuestDB: 

docker run -p 9000:9000 -p 9009:9009 -p 8812:8812 -p 9003:9003 questdb/questdb

b)	InfluxDB: 

docker run –name=influxdb -d -p 8086:8086 influxdb:1. 8

c)	TimescaleDB: 

docker run -d –name timescaledb -p 5432:5432 -e POSTGRES_PASSWORD=password timescale/timescaledb:latest-pg14



2.	Then we produce test data. For example, at QuestDB:

./tsbs_generate_data \
--use-case="devops" --seed=123 --scale=200 \
--timestamp-start="2016-01-01T00:00:00Z" \
--timestamp-end="2016-01-02T00:00:00Z" \
--log-interval="10s" --format="influx" > /tmp/questdb-data


3.	We load the data into the database (tsbs_load command) and get benchmarking results  for the data ingestion. 

./tsbs_load_questdb --file /tmp/questdb-data --workers 8

4.	We produce queries about the benchmarking process.

./tsbs_generate_queries --use-case="devops" --seed=123 --scale=200 \
   	 --timestamp-start="2016-01-01T00:00:00Z" \
    	--timestamp-end="2016-01-02T00:00:01Z" \
   	 --queries=1000 --query-type="high-cpu-all" --format="questdb" \
    	> /tmp/queries_questdb-high-cpu-all



5.	We execute the queries.

./tsbs_run_queries_questdb --file /tmp/queries_questdb-high-cpu-all --workers=8 --print-interval 500

Note: Special parameters, such as the number of workers (threads) or the value of  scale, which determines cardinality, can be determined based on your preferences.



Specific comments:

•If you want to see the data generated by the TSBS (suppose we have named it influx-data) do so with the command:
$cat /tmp/influx-data

• If you want to see how large your files are in the central folder of TSBS: 
$ ls -lah /tmp/

• When you double-check the QuestDB load, the second time you will receive the following error: CPU Table already exists. 
To solve the problem, you will need to delete  the QuestDB container:
docker ps -a     (take the id of the QuestDB container)
docker stop <container_id>
docker rm <container_id>

And then reinstall the container as we showed earlier. This error does not appear for the other two databases (InfluxDB, TimescaleDB).
